name: Validate file size
on:
  push:

jobs:
  validate-file-size:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Check file size
        run: |
          for filename in artifacts/*.wasm; do
            if $(stat -c%s "$filename") > 1000000; then
              printf '%s is larger than 1Mb'
            else
              printf '%s is less than 1MB'
            fi
          done
